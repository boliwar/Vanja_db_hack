# Vanja_db_hack

## Подготовка к работе<br>
Забираем себе копию [Электронный дневник школы](https://github.com/devmanorg/e-diary/tree/master)<br>
Тянем и распаковываем [архив БД](https://dvmn.org/filer/canonical/1562234129/166/)<br>
Cоздаем в текстовом редакторе файл `.env`, внутри указываем переменную окружения `DATABASE_NAME` — путь до базы данных, например: schoolbase.sqlite3<br>
Установите зависимости командой `pip install -r requirements.txt`<br>
Запустите сервер командой 
```
python3 manage.py runserver
```
Убедитесь что сайт работает и заполнен по адресу http://127.0.0.1:8000/<br>
Пример:
![image](https://user-images.githubusercontent.com/5857967/204126328-acd7d249-b52e-4d89-a576-df8e73525868.png)

## Приступаем к работе
### Иницилизация рабочего окружения
Перейдите в каталог сайта загрузите файл script.py в корень (возле manage.py).
Запустите терминал и получите Django shell:
```
python3 manage.py shell
```
в случае успеха увидите надпись
```
(InteractiveConsole)
```
![image](https://user-images.githubusercontent.com/5857967/204126750-c333bad0-49cb-493c-b3e8-b0ba915d7a63.png)

Импортируем наш скрипт:
```
import script
```

### Получаем учетную запись ученика
```
child = script.ge_child('Фролов Иван') 
```
В случае успеха скрипт сообщит об этом:

![image](https://user-images.githubusercontent.com/5857967/204126877-11553f19-63df-4c0e-b530-c1fd3d00531f.png)

### Исправляем плохие оценки:
```
script.fix_marks(child)
```
где child  - учетная запись ученика, полученная выше.
Все оценки ниже 4 будут исправлены на 5.

### Убираем жалобы:
```
script.remove_chastisements(child)
```
где child  - учетная запись ученика, полученная выше.
Все жалобы будут убраны.

### Хвалим ученика по выбраному предмету
```
script.create_commendation(child, title)
```
где child  - учетная запись ученика, полученная выше,
title - название предмета (математика, физика,..).
Похвала будет добавлена  от лица преподователя, за тот урок, в котором небыло похвалы.

## Что за проект?
Это учебный проект по исправлению электронного дневника школы в рамках курса "Знакомство с Django: ORM"
